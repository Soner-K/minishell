

HANDLE MULTIPLE EXPAND INSIDE ONE WORD + IF A $ IS INSIDE AN EXPANSION
example : $var$USER
with $var being $

1. Issue when a single string contains multiple glued expands, and one of them doesn't exist
$vr$USER
Issue (valgrind) when $var$USER with var being "$".
last_expand_index causes issue with multiple expands in one word.
When $vr$USER because last expand is at 0, and $USER expand is at 0 too.
$vr$USER$vr$vr$vr$USER

2. Error message for is_valid_operator

3. Add an error code variable in the structure ?

4. Do a map of all the function called, to check where to protect for NULL and where it isnt needed.

5. Handle unclosed quotes errors

6. Check if head parameters of tokens list is adjusted after head is moved.
Is there a need to keep the head parameter ?

7. Which order (quotes removal, redirection syntax and grammar, expand) ?